# ─────────────────────────────────────────────────────────────────────────────
# application.properties  –  COMMON / BASE configuration
# Active profile is selected at startup:
#   Local use  →  java -jar app.jar  --spring.profiles.active=local
#   Testing    →  java -jar app.jar  --spring.profiles.active=test
# ─────────────────────────────────────────────────────────────────────────────

# Default active profile (override via CLI or env var)
spring.profiles.active=local

# Server port
server.port=8009

# ── Hibernate / JPA shared settings ──────────────────────────────────────────
# Use Hibernate community SQLite dialect (proper support, no ALTER TABLE constraints)
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.show-sql=true

# SQLite does not support ALTER TABLE … ADD/DROP CONSTRAINT.
# Tables are created correctly via CREATE TABLE; constraint warnings are safe to ignore.
spring.jpa.properties.hibernate.hbm2ddl.halt_on_error=false
logging.level.org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl=ERROR

# ── Swagger / OpenAPI ─────────────────────────────────────────────────────────
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.version=2.6.7

# ── Spring MVC ────────────────────────────────────────────────────────────────
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# ── Jackson ───────────────────────────────────────────────────────────────────
# Accept enum values in any case (BOOKS / books / Books all work)
spring.jackson.mapper.ACCEPT_CASE_INSENSITIVE_ENUMS=true

# Disable Spring Security auto-configuration for local dev
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration

