# ─────────────────────────────────────────────────────────────────────────────
# application-test.properties  –  TEST profile
#
# Usage:  java -jar app.jar --spring.profiles.active=test
#         OR set SPRING_PROFILES_ACTIVE=test in your environment
#
# Behaviour:
#   • Drops and recreates the schema on every startup (ddl-auto=create)
#   • Uses a separate SQLite file: ecommercedb_test.db  (never overwrites local DB)
#   • DataSeeder component is active and inserts rich dummy data automatically
#   • Ideal for running the test_api.sh script against a clean, known state
# ─────────────────────────────────────────────────────────────────────────────

# Dedicated test database – completely separate from local dev data
spring.datasource.url=jdbc:sqlite:./ecommercedb_test.db
spring.datasource.driver-class-name=org.sqlite.JDBC

# Always start with a fresh schema so seed data IDs are predictable
spring.jpa.hibernate.ddl-auto=create

# Verbose SQL for test debugging
spring.jpa.show-sql=true

# Activate the DataSeeder bean (only runs when this profile is active)
app.seed.enabled=true

# Logging
logging.level.com.masai=INFO
logging.level.org.springframework.web=DEBUG
